<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.ChapitreDetailsControllerEtudiant"
            styleClass="chapter-details-container"
            stylesheets="@css/cours.css">
    
    <VBox spacing="24" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" 
          AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0">
        
        <!-- En-tête du chapitre -->
        <VBox styleClass="chapter-header" spacing="16">
            <Label fx:id="chapterNumberLabel" styleClass="chapter-number-badge" text="Chapitre 1"/>
            <Label fx:id="titleLabel" styleClass="chapter-title"/>
        </VBox>
        
        <!-- Section des informations -->
        <VBox styleClass="content-section" spacing="20">
            <Label styleClass="section-title" text="Informations du chapitre"/>
            
            <GridPane styleClass="info-grid">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="100"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>
                
                <Label styleClass="info-label" text="Description :" 
                       GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <Text fx:id="descriptionText" styleClass="info-value" wrappingWidth="400"
                      GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                
                <Label styleClass="info-label" text="Date de création :" 
                       GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <Label fx:id="dateLabel" styleClass="info-value"
                       GridPane.columnIndex="1" GridPane.rowIndex="1"/>
            </GridPane>
        </VBox>
        
        <!-- Section PDF -->
        <VBox styleClass="content-section" spacing="20">
            <Label styleClass="section-title" text="Contenu du chapitre"/>
            
            <VBox styleClass="pdf-section">
                <HBox spacing="16" alignment="CENTER_LEFT">
                    <Label fx:id="pdfNameLabel" styleClass="info-value"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="downloadButton" text="Télécharger" 
                            styleClass="pdf-button, download-button"
                            onAction="#handleDownloadPDF"/>
                    <Button fx:id="openButton" text="Ouvrir" 
                            styleClass="pdf-button, open-button"
                            onAction="#handleOpenPDF"/>
                </HBox>
                
                <Label fx:id="noPdfLabel" styleClass="content-placeholder" 
                       text="Aucun PDF n'est disponible pour ce chapitre"
                       managed="${!pdfNameLabel.visible}" visible="false"/>
            </VBox>
        </VBox>
        
        <!-- Footer -->
        <HBox styleClass="footer-section" alignment="CENTER">
            <Button text="Retour au cours" styleClass="back-button"
                    onAction="#handleRetourButton"/>
        </HBox>
        
    </VBox>
</AnchorPane>
